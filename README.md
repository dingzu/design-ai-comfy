# 使用说明

## 版本更新

### v1.2.0 2024-8-9
- ✨新增SwitchCaseMore节点,支持多条件分支选择功能
- ✨新增ResizeAndCenter节点,支持图像缩放和居中功能
- 🔄更新ResizeAndCenter节点,增加输出上下左右黑边增加量的功能

### v1.1.0 2024-7-25
- ✨支持一个绘制黑边的节点 ResizeBySidePro，能够缩放图片，并通过填充黑边开解决缩放目标尺寸和原图不同的问题

### v1.0.0 2024-7-24
- ✨支持删除黑边的工作流
- ✨可以在删除完黑边后输出一个裁剪后的图片和输出每个方向裁剪的数值
- ✨支持对裁剪数值增加额外的拓展值，用于在进行拓展图片的时候多拓展一些，避免边缘的额外长度，当然，生成完成后可以裁剪掉这部分
- ✨支持 img_crop_border 节点，可以删除图片的边框，可以结合上一个节点的 {方向}_top_border_add 节点使用

## img_black_border_detector 节点

这个节点可以实现输入一张图片，然后自动检测并删除黑边

### 输入参数
- image (IMAGE)：要处理的输入图像。
- threshold (FLOAT)：检测黑边的阈值（默认值：0.1，范围：0.0 到 1.0）。
- expand (INT)：扩展裁剪区域的像素数（默认值：0，范围：-1000 到 1000）。
- expand_after_crop (INT)：裁剪后扩展的像素数（默认值：0，范围：-1000 到 1000）。
- ignore_threshold (INT)：忽略边界检测的阈值（默认值：-1，范围：-1 到 1000）。

### 输出参数
- cropped_image (IMAGE)：边界检测和裁剪后的图像。
- width (INT)：最终输出图像的宽度。
- height (INT)：最终输出图像的高度。
- top_border (INT)：检测到的上黑边。
- bottom_border (INT)：检测到的下黑边。
- left_border (INT)：检测到的左黑边。
- right_border (INT)：检测到的右黑边。
- top_border_add (INT)：额外的上边界扩展。
- bottom_border_add (INT)：额外的下边界扩展。
- left_border_add (INT)：额外的左边界扩展。
- right_border_add (INT)：额外的右边界扩展。

## img_crop_border 节点

### 输入参数
- image (IMAGE)：要裁剪的输入图像。
- top (INT)：从顶部裁剪的像素数（默认值：0，范围：0 到 1000）。
- bottom (INT)：从底部裁剪的像素数（默认值：0，范围：0 到 1000）。
- left (INT)：从左侧裁剪的像素数（默认值：0，范围：0 到 1000）。
- right (INT)：从右侧裁剪的像素数（默认值：0，范围：0 到 1000）。

### 输出参数
- cropped_image (IMAGE)：裁剪后的图像。
- width (INT)：裁剪后图像的宽度。
- height (INT)：裁剪后图像的高度。

### 功能描述
Cropborder 节点用于对输入图像进行边界裁剪。它允许用户指定要从图像的上、下、左、右四个边缘裁剪的像素数。裁剪操作会确保裁剪值不超过图像边界。裁剪后，节点会返回裁剪后的图像以及新的宽度和高度。

此节点属于 "✨✨✨design-ai" 类别，可用于图像处理和设计相关任务。

## ResizeBySidePro 节点

这个节点支持输入一张图片，根据配置项处理图片，并输出处理后的图片和最终的宽度和高度。

### 输入参数
- image (IMAGE)：要处理的输入图像。
- size (INT)：输入的目标尺寸（默认值：512，范围：64 到 6048）。
- apply_to (["width", "height", "long_edge", "short_edge"])：选择将输入的尺寸应用于宽度、高度、较长的边或较短的边。
- max_long_edge (INT)：最终生成图片长边的最大值（默认值：1024，范围：64 到 6048）。
- multiple_of (INT)：设置最终尺寸为某个整数的倍数（默认值：8，范围：1 到 128）。

### 输出参数
- image (IMAGE)：处理后的图像。
- width (INT)：处理后图像的宽度。
- height (INT)：处理后图像的高度。

### 功能描述
ResizeBySidePro 节点提供了灵活的图像调整功能。它允许用户指定目标尺寸，并选择将该尺寸应用于图像的宽度、高度、较长的边或较短的边。同时，用户可以设置最终图像长边的最大值，以及确保最终尺寸为特定整数的倍数。

此节点会根据输入的配置调整图像大小，并在必要时添加黑色边框以保持原始图像的纵横比。处理后，节点返回调整后的图像及其新的宽度和高度。

此节点属于 "✨✨✨design-ai" 类别，适用于需要精确控制图像尺寸的图像处理和设计任务。

## ResizeAndCenter 节点

这个节点支持图像缩放和居中功能，可以将输入图像调整到指定尺寸并居中放置。

### 输入参数
- image (IMAGE)：要处理的输入图像。
- width (INT)：目标宽度（默认值：512，范围：64 到 6048）。
- height (INT)：目标高度（默认值：512，范围：64 到 6048）。

### 输出参数
- image (IMAGE)：处理后的图像。
- top_border (INT)：顶部添加的黑边像素数。
- bottom_border (INT)：底部添加的黑边像素数。
- left_border (INT)：左侧添加的黑边像素数。
- right_border (INT)：右侧添加的黑边像素数。

### 功能描述
ResizeAndCenter 节点将输入图像调整到指定的宽度和高度，同时保持原始图像的纵横比。如果调整后的图像尺寸与目标尺寸不完全匹配，节点会在图像周围添加黑色边框以达到指定的尺寸，并将图像居中放置。

此节点不仅返回处理后的图像，还会输出在每个方向（上、下、左、右）添加的黑边像素数。这些额外的输出可以用于后续的图像处理或分析任务，例如在需要去除添加的黑边时使用。

此节点属于 "✨✨✨design-ai" 类别，适用于需要将图像调整到特定尺寸并居中的场景，如准备训练数据或创建统一尺寸的图像集。同时，它还提供了有关添加黑边的详细信息，增加了节点的灵活性和实用性。

## SwitchCaseMore 节点

这个节点提供了一个灵活的多条件分支选择功能,可以根据输入的条件选择相应的输出。

### 输入参数
- switch_condition (STRING): 用于选择分支的条件字符串。
- case_1 到 case_16 (STRING): 16个可能的条件分支,每个分支对应一个字符串。
- input_default (ANY): 默认输入,当没有匹配的条件时返回此值。
- input_1 到 input_16 (ANY, 可选): 对应每个条件分支的输入值。

### 输出参数
- ? (ANY): 根据条件选择的输出值。输出类型取决于选中的输入。

### 功能描述
SwitchCaseMore 节点实现了一个高级的switch-case功能。它允许用户定义多达16个条件分支,每个分支可以关联一个任意类型的输入。节点会比较 `switch_condition` 与各个 `case_` 值,如果匹配,则返回对应的 `input_` 值。如果没有匹配的条件,则返回 `input_default` 值。

这个节点非常适用于需要根据不同条件选择不同处理路径或参数的复杂工作流程。它属于 "✨✨✨design-ai/switch-case" 类别,可以灵活地用于各种决策和分支选择场景。

使用示例:
1. 设置 `switch_condition` 为你想要匹配的条件。
2. 在 `case_1` 到 `case_16` 中定义可能的条件值。
3. 在对应的 `input_1` 到 `input_16` 中设置每个条件下要返回的值。
4. 设置 `input_default` 作为默认返回值。

节点将返回与 `switch_condition` 匹配的 `case_` 对应的 `input_` 值,如果没有匹配则返回 `input_default`。